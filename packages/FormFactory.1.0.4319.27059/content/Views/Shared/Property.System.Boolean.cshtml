@using FormFactory
@model PropertyVm
           
@{ var posted = (Model.Value as string ?? "false").Split(',');
   var wasChecked = bool.Parse(posted.Last());
}
<input type='hidden' value='@wasChecked.ToString().ToLower()' id="@Model.Name" name='@Model.Name'>
<input class="@(Model.IsWritable ? "" : "disabled")" type="checkbox" value="true" @(wasChecked ? "checked=\"\"" : "\"\"") onchange="javascript: $('#@Model.Name').val(this.checked)" @(Model.IsWritable ? "" : "disabled=\"disabled\"")/>
