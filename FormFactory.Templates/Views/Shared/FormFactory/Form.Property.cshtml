@using System.ComponentModel.DataAnnotations
@using FormFactory.Attributes
@using FormFactory
@using FormFactory.AspMvc
@model PropertyVm
@{
    if (Model.IsHidden)
    {
    <div style="display: none">@Html.BestProperty(Model)</div>
    }
    else
    {
        if (Model.IsHidden)
        {   
            @Html.Partial("FormFactory/Form.Property.Inline", Model, ViewData);
        }
        else
        {
           @Html.Partial("FormFactory/Form.Property.Block", Model, ViewData);
        }
        <div class="controls">
            @Html.BestProperty(Model)
            <span class="help-inline">
                <span class="field-validation-@validClass" data-valmsg-for="@Model.Name" data-valmsg-replace="true">
                    @Html.AllValidationMessages(Model.Name)
                </span>
                @(Model.GetCustomAttributes().OfType<System.ComponentModel.DescriptionAttribute>().Select(a => a.Description).SingleOrDefault())
            </span>
        </div>
    </div>
        }
    }
}