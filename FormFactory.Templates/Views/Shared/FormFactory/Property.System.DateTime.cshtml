@using System.ComponentModel.DataAnnotations
@using FormFactory
@model PropertyVm
@{
    var isDate = Model.GetCustomAttributes().OfType<DataTypeAttribute>().Any(dt => dt.DataType == DataType.Date);
    var stringFormat = isDate ? "d" : "g";
    var behaviour = isDate ? "datepicker" : "datetimepicker";
    var valueAsString = Model.Value is string ? (Model.Value as string) : Model.Value as DateTime? == null ? "" : ((DateTime?)Model.Value).Value.ToString(stringFormat);
    <input type="text" class="ff-behaviour" data-ff-behaviour="@behaviour" name="@Model.Name" value="@valueAsString" @Model.Readonly() @Model.Disabled() />
   
}
